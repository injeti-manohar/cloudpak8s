(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"013z":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("NmYn"),i=a.n(o),s=a("Wbzz"),c=a("Xrax"),p=a("k4MR"),l=a("TSYQ"),b=a.n(l),m=a("QH2O"),u=a.n(m),d=a("qKvR"),h=function(e){var t,a=e.title,n=e.theme,r=e.tabs,o=void 0===r?[]:r;return Object(d.b)("div",{className:b()(u.a.pageHeader,(t={},t[u.a.withTabs]=o.length,t[u.a.darkMode]="dark"===n,t))},Object(d.b)("div",{className:"bx--grid"},Object(d.b)("div",{className:"bx--row"},Object(d.b)("div",{className:"bx--col-lg-12"},Object(d.b)("h1",{id:"page-title",className:u.a.text},a)))))},j=a("BAC9"),g=function(e){var t=e.relativePagePath,a=e.repository,n=Object(s.useStaticQuery)("1364590287").site.siteMetadata.repository,r=a||n,o=r.baseUrl,i=r.subDirectory,c=o+"/edit/"+r.branch+i+"/src/pages"+t;return o?Object(d.b)("div",{className:"bx--row "+j.row},Object(d.b)("div",{className:"bx--col"},Object(d.b)("a",{className:j.link,href:c},"Edit this page on GitHub"))):null},O=a("FCXl"),N=a("dI71"),f=a("I8xM"),v=function(e){function t(){return e.apply(this,arguments)||this}return Object(N.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,n=e.slug,r=n.split("/").filter(Boolean).slice(-1)[0],o=a.map((function(e){var t,a=i()(e,{lower:!0,strict:!0}),o=a===r,c=new RegExp(r+"/?(#.*)?$"),p=n.replace(c,a);return Object(d.b)("li",{key:e,className:b()((t={},t[f.selectedItem]=o,t),f.listItem)},Object(d.b)(s.Link,{className:f.link,to:""+p},e))}));return Object(d.b)("div",{className:f.tabsContainer},Object(d.b)("div",{className:"bx--grid"},Object(d.b)("div",{className:"bx--row"},Object(d.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(d.b)("nav",{"aria-label":t},Object(d.b)("ul",{className:f.list},o))))))},t}(r.a.Component),w=a("MjG9"),y=a("CzIb");t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,r=e.Title,o=t.frontmatter,l=void 0===o?{}:o,b=t.relativePagePath,m=t.titleType,u=l.tabs,j=l.title,N=l.theme,f=l.description,k=l.keywords,x=Object(y.a)().interiorTheme,T=Object(s.useStaticQuery)("2456312558").site.pathPrefix,C=T?n.pathname.replace(T,""):n.pathname,P=u?C.split("/").filter(Boolean).slice(-1)[0]||i()(u[0],{lower:!0}):"",$=N||x;return Object(d.b)(p.a,{tabs:u,homepage:!1,theme:$,pageTitle:j,pageDescription:f,pageKeywords:k,titleType:m},Object(d.b)(h,{title:r?Object(d.b)(r,null):j,label:"label",tabs:u,theme:$}),u&&Object(d.b)(v,{title:j,slug:C,tabs:u,currentTab:P}),Object(d.b)(w.a,{padded:!0},a,Object(d.b)(g,{relativePagePath:b})),Object(d.b)(O.a,{pageContext:t,location:n,slug:C,tabs:u,currentTab:P}),Object(d.b)(c.a,null))}},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}},khMg:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return s})),a.d(t,"default",(function(){return l}));var n=a("wx14"),r=a("zLVn"),o=(a("q1tI"),a("7ljp")),i=a("013z"),s=(a("qKvR"),{}),c={_frontmatter:s},p=i.a;function l(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)(p,Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",null,"Configure Groups and Cluster Role-Based Access Control"),Object(o.b)("p",null,"We will show you how to configure groups and cluster role-based access\ncontrol (RBAC) on your OpenShift Cluster.  We will cover the following items:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Create a cluster role binding to configure a group with direct\ncluster-admin access privileges"),Object(o.b)("li",{parentName:"ul"},"Configure a group with cluster-admin access through the ",Object(o.b)("strong",{parentName:"li"},"sudoer")," cluster role"),Object(o.b)("li",{parentName:"ul"},"Restrict project self-provisioning to specific user groups"),Object(o.b)("li",{parentName:"ul"},"Configure project request messages   ")),Object(o.b)("p",null,"The top two items tell you how to delegate the cluster administrative\nprivileges."),Object(o.b)("h2",null,"Create a cluster role binding to configure a group with direct cluster-admin access privileges"),Object(o.b)("p",null,"You assign the ",Object(o.b)("strong",{parentName:"p"},"cluster-admin")," access to a group called ",Object(o.b)("strong",{parentName:"p"},"local-admin")," which\nwe have already created in our environment.\nHere are steps to configure direct cluster-admin access."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Check the list of groups and associated users in each group as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc --user=admin get groups\nNAME             USERS\nlocal-admin      alice\nocp-platform     david, admin1, admin2, admin\nocp-production   karla, prod1, prod2, admin, redhat\nocp-users        andrew, marina, karla, david, portal1, portal2, payment1, payment2, prod1, prod2, platform1, platform2, admin1, admin2, admin\npaymentapp       marina, payment1, payment2\nportalapp        andrew, portal1, portal2\n$ \n")),Object(o.b)("p",{parentName:"li"},"In our environment, there is a ",Object(o.b)("strong",{parentName:"p"},"local-admin")," group with an ",Object(o.b)("strong",{parentName:"p"},"alice")," user.  We\nwill use those in the following steps."),Object(o.b)("p",{parentName:"li"},"Note that we have disabled the ",Object(o.b)("strong",{parentName:"p"},"kubeadmin")," in your environment as described\nin the ",Object(o.b)("a",{parentName:"p",href:"../User/UserVmware"},"VMware User")," page. Therefore, the steps in\nthis page must be\nperformed using the ",Object(o.b)("strong",{parentName:"p"},"system:admin")," user account which means that we will\nadd the ",Object(o.b)("strong",{parentName:"p"},"—user=admin")," option with the ",Object(o.b)("inlineCode",{parentName:"p"},"oc")," command if necessary.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create a cluster role binding to give ",Object(o.b)("strong",{parentName:"p"},"cluster-admin")," rights to members\nof the ",Object(o.b)("strong",{parentName:"p"},"local-admin")," group as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc --user=admin adm policy add-cluster-role-to-group cluster-admin local-admin \nclusterrole.rbac.authorization.k8s.io/cluster-admin added: "local-admin"\n$ \n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To confirm that users who belong to the ",Object(o.b)("strong",{parentName:"p"},"local-admin")," group has the\nadministrative access, you login as the ",Object(o.b)("strong",{parentName:"p"},"alice")," user as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc login -u alice -p 'p4ssw0rd'\nLogin successful.\n\n... OUTPUT OMITTED ...\n\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Then, confirm full administrative access with any verb to any resource\ntype such as “boo” and “bar” as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc auth can-i foo bar\nWarning: the server doesn't have a resource type 'bar'\nyes\n$ \n")),Object(o.b)("p",{parentName:"li"},"   You see ",Object(o.b)("strong",{parentName:"p"},"yes")," as the command output which means that the user has the\nadministrative access. You can ignore the warning message above.\nThe ",Object(o.b)("strong",{parentName:"p"},"local-admin")," group now has the administrative access and the users\nthat belong to that group can run the command which requires the administrative\naccess without specifying the ",Object(o.b)("strong",{parentName:"p"},"—user=admin")," option.  "))),Object(o.b)("h2",null,"Configure a group with cluster-admin access through the sudoer cluster role"),Object(o.b)("p",null,"We will grant the ",Object(o.b)("strong",{parentName:"p"},"sudoer")," rights to the group and show you how to use the\nadministrative access with the users in that group.  "),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Check the list of groups and acciated users in each group as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc --user=admin get groups\nNAME             USERS\nlocal-admin      alice\nocp-platform     david, admin1, admin2, admin\nocp-production   karla, prod1, prod2, admin, redhat\nocp-users        andrew, marina, karla, david, portal1, portal2, payment1, payment2, prod1, prod2, platform1, platform2, admin1, admin2, admin\npaymentapp       marina, payment1, payment2\nportalapp        andrew, portal1, portal2\n$ \n")),Object(o.b)("p",{parentName:"li"},"In our environment, there is ",Object(o.b)("strong",{parentName:"p"},"ocp-platform")," group with a ",Object(o.b)("strong",{parentName:"p"},"david")," user.  We will use those in the following steps.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create a cluster role binding to grant ",Object(o.b)("strong",{parentName:"p"},"sudoer")," rights to members of\nthe ",Object(o.b)("strong",{parentName:"p"},"ocp-platform")," group:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc adm policy add-cluster-role-to-group sudoer ocp-platform\nclusterrole.rbac.authorization.k8s.io/sudoer added: "ocp-platform"\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Log in as user ",Object(o.b)("strong",{parentName:"p"},"david")," that belongs to the ",Object(o.b)("strong",{parentName:"p"},"ocp-platform")," group to\nconfirm cluster administrative privileges."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc login -u david -p 'r3dh4t1!'\nLogin successful.\n\nYou don't have any projects. You can try to create a new project, by running\n\noc new-project <projectname>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Test direct cluster administrative access to confirm that it is not\navailable as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc auth can-i foo bar\nWarning: the server doesn't have a resource type 'bar'\nno\n")),Object(o.b)("p",{parentName:"li"},"   You see ",Object(o.b)("strong",{parentName:"p"},"no")," as the command output which means that the user does not\nhave the aminitrative access. You can ignore the warning message above.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Repeat the same command with the ",Object(o.b)("strong",{parentName:"p"},"—as=system:admin")," option using the\n",Object(o.b)("strong",{parentName:"p"},"system:admin")," account as follows:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc --as=system:admin auth can-i foo bar\nWarning: the server doesn't have a resource type 'bar'\nyes\n")),Object(o.b)("p",{parentName:"li"},"   You see ",Object(o.b)("strong",{parentName:"p"},"yes")," as the command output which means that the user has the\nadministrative access. You can ignore the warning message above."),Object(o.b)("p",{parentName:"li"},"   As step 4 and 5 showed you, the ",Object(o.b)("strong",{parentName:"p"},"sudoer")," rights can provide the\nadministrative access by specifying the ",Object(o.b)("strong",{parentName:"p"},"—as=system:admin")," option.  "),Object(o.b)("p",{parentName:"li"},"   Now, you have delegated cluster administrative access to users such as\n",Object(o.b)("strong",{parentName:"p"},"alice")," and ",Object(o.b)("strong",{parentName:"p"},"david")," in our example. Therefore, it is no longer\nappropriate to continue using TLS certificates to access ",Object(o.b)("strong",{parentName:"p"},"system:admin"),".  "))),Object(o.b)("h3",null,"Remove Credentials for system:admin from Configuration File"),Object(o.b)("p",null,"Before we move to the next items which are “Restrict project\nself-provisioning to specific user groups” and “Configure project request\nmessages”, we will show you how to remove the ",Object(o.b)("strong",{parentName:"p"},"cluster-admin")," access from the\nuser to whom you previously delegated ",Object(o.b)("strong",{parentName:"p"},"cluster-admin")," access.  In our example,\nthe user ",Object(o.b)("strong",{parentName:"p"},"alice")," is the one.  "),Object(o.b)("p",null,"We remove the credentials for ",Object(o.b)("strong",{parentName:"p"},"system:admin")," from the configuration file as\nfollows:  "),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"You can get the API URL with oc command as follow."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$oc whoami --show-server\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Remove your kube configuration file."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ rm -f $HOME/.kube/config\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Log in again as the ",Object(o.b)("strong",{parentName:"p"},"alice")," user.  Answer ",Object(o.b)("strong",{parentName:"p"},"y")," to the question\n“Use insecure connections?” which will reset your environment and\nauthenticate for the user ",Object(o.b)("strong",{parentName:"p"},"alice"),"."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc login -u alice -p 'p4ssw0rd' $API_URL\nThe server uses a certificate signed by an unknown authority.\nYou can bypass the certificate check, but any data you send to the server could be intercepted by others.\nUse insecure connections? (y/n): y\n\nLogin successful.\n\n... output omitted ...\n")))),Object(o.b)("h2",null,"Restrict Access for Project Self-Provisioning"),Object(o.b)("p",null,"We will cover two items such as “Restrict project self-provisioning to specific user groups” and “Configure project request messages” in this section. We will demonstrate 3 topics as folow:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"You remove the user’s default permission to create their own projects and allow only production administrators to create projects."),Object(o.b)("li",{parentName:"ul"},"You set a message for users who attempt to create projects without appropriate permissions. "),Object(o.b)("li",{parentName:"ul"},"You allow users from the ocp-production group to create their own projects.  ")),Object(o.b)("h3",null,"Remove OAuth Authenticated Access to Role self-provisioner"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"View the ",Object(o.b)("strong",{parentName:"p"},"self-provisioners")," cluster role binding:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc get clusterrolebinding self-provisioners -o yaml\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  annotations:\n    rbac.authorization.kubernetes.io/autoupdate: "true"\n  creationTimestamp: "2019-05-25T18:46:20Z"\n  name: self-provisioners\n  resourceVersion: "6265"\n  selfLink: /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/self-provisioners\n  uid: 6304fb71-7f1d-11e9-a345-0624d0163962\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: self-provisioner\nsubjects:\n- apiGroup: rbac.authorization.k8s.io\n  kind: Group\n  name: system:authenticated:oauth\n')),Object(o.b)("p",{parentName:"li"},"This role binding has the ",Object(o.b)("strong",{parentName:"p"},"rbac.authorization.kubernetes.io/autoupdate: “true”"),"\nannotation."),Object(o.b)("p",{parentName:"li"},"Typically, you remove a cluster role binding with\n",Object(o.b)("inlineCode",{parentName:"p"},"oc adm policy remove-cluster-role-from-group")," or\n",Object(o.b)("inlineCode",{parentName:"p"},"oc adm policy remove-cluster-role-from-user"),".\nBecause the autoupdate process restores the access, you cannot use either\napproach with the ",Object(o.b)("strong",{parentName:"p"},"self-provisioners")," role binding yet.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Set the ",Object(o.b)("strong",{parentName:"p"},"rbac.authorization.kubernetes.io/autoupdate")," annotation on the\n",Object(o.b)("strong",{parentName:"p"},"self-provisioners")," cluster role binding to ",Object(o.b)("strong",{parentName:"p"},"false"),":"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc annotate clusterrolebinding self-provisioners --overwrite \\\n    'rbac.authorization.kubernetes.io/autoupdate=false'\nclusterrolebinding.rbac.authorization.k8s.io/self-provisioners annotated\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Remove the ",Object(o.b)("strong",{parentName:"p"},"system:authenticated:oauth")," group from the\n",Object(o.b)("strong",{parentName:"p"},"self-provisioners")," cluster role binding:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc adm policy remove-cluster-role-from-group \\\n    self-provisioner system:authenticated:oauth\nclusterrole.rbac.authorization.k8s.io/self-provisioner removed: "system:authenticated:oauth"\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Confirm that the ",Object(o.b)("strong",{parentName:"p"},"self-provisioners")," cluster role binding still exists\nand has the ",Object(o.b)("strong",{parentName:"p"},"rbac.authorization.kubernetes.io/autoupdate: “false”"),"\nannotation, but no subjects:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc get clusterrolebinding self-provisioners -o yaml\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  annotations:\n    rbac.authorization.kubernetes.io/autoupdate: "false"\n  creationTimestamp: "2019-05-25T18:46:20Z"\n  name: self-provisioners\n  resourceVersion: "1773477"\n  selfLink: /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/self-provisioners\n  uid: 6304fb71-7f1d-11e9-a345-0624d0163962\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: self-provisioner\n')))),Object(o.b)("h3",null,"Configure Message with Project Request Instructions"),Object(o.b)("p",null,"With project self-provisioning disabled, it is helpful to provide users with\na message to inform them of the correct way to request a new project in\nOpenShift."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create a file called ",Object(o.b)("strong",{parentName:"p"},"projects-config.patch.json")," with the following\nJSON patch for the project request message:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'{\n  "spec": {\n    "projectRequestMessage": "Please create projects using the portal http://portal.company.internal/provision or PaaS Support at paas-support@example.com"\n  }\n}\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Patch the cluster resource of kind ",Object(o.b)("strong",{parentName:"p"},"projects.config.openshift.io")," with\nthe patch file:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc patch projects.config.openshift.io cluster --type=merge \\\n    -p "$(cat projects-config.patch.json)"\nproject.config.openshift.io/cluster patched\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Log in as the non-admin ",Object(o.b)("strong",{parentName:"p"},"andrew")," user and attempt to create a project\nto verify that the project request message is active:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc login -u andrew -p 'r3dh4t1!'\nLogin successful.\n\nYou don't have any projects. Contact your system administrator to request a project.\n$ oc new-project test\nError from server (Forbidden): Please create project using the portal http://portal.company.internal/provision or PaaS Support at paas-support@example.com\n")),Object(o.b)("p",{parentName:"li"},"   If you do not see the full error message, wait a minute or two and try\nagain. It takes a little while for the operator to update the configuration\nafter the patch is applied."))),Object(o.b)("h3",null,"Allow Production Administrators to Create Projects"),Object(o.b)("p",null,"You configure the ",Object(o.b)("strong",{parentName:"p"},"ocp-production")," group that the LDAP group sync created\nso that its members can create projects."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Log in as the ",Object(o.b)("strong",{parentName:"p"},"alice")," cluster-admin user:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc login -u alice -p 'p4ssw0rd'\n... output omitted ...\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Use ",Object(o.b)("inlineCode",{parentName:"p"},"oc adm policy")," again, but this time add the cluster role of\n",Object(o.b)("strong",{parentName:"p"},"self-provisioner")," to the ",Object(o.b)("strong",{parentName:"p"},"ocp-production")," group:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc adm policy add-cluster-role-to-group self-provisioner ocp-production\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Log in to the system as the ",Object(o.b)("strong",{parentName:"p"},"karla")," user, a member of the\n",Object(o.b)("strong",{parentName:"p"},"ocp-production")," group:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"$ oc login -u karla -p 'r3dh4t1!'\nLogin successful.\n")),Object(o.b)("p",{parentName:"li"},"   You don’t have any projects. You can try to create a new project, by\nrunning:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"oc new-project <projectname>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Attempt to create a project as the ",Object(o.b)("strong",{parentName:"p"},"karla")," user and verify that this is\nnow successful:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc new-project test\nNow using project "test" on server "https://api.cluster-7ae9.sandbox134.opentlc.com:6443".\n')),Object(o.b)("p",{parentName:"li"},"   You can add applications to this project with the ",Object(o.b)("inlineCode",{parentName:"p"},"new-app")," command.\nFor example, try:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"oc new-app django-psql-example\n")),Object(o.b)("p",{parentName:"li"},"   to build a new example application in Python. Or use ",Object(o.b)("inlineCode",{parentName:"p"},"kubectl")," to deploy a\nsimple Kubernetes application:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},"kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Remove the ",Object(o.b)("strong",{parentName:"p"},"test")," project:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",{parentName:"pre"},'$ oc delete project test\nproject.project.openshift.io "test" deleted\n')))))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-day-2-user-user-rbac-index-mdx-6577e973084b095dc3d8.js.map