{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./src/pages/mcm/cp4mcm_nom_day2/asm_day2_fromEvent/index.mdx","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","name","_frontmatter","InlineNotification","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent","module","exports"],"mappings":"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","file":"component---src-pages-mcm-cp-4-mcm-nom-day-2-asm-day-2-from-event-index-mdx-e3e5dd3a6cb48eb5e698.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p><a parentName=\"p\" {...{\n        \"href\": \"/mcm/cp4mcm_nom_day2\"\n      }}>{`Back to NOM Day2`}</a></p>\n    <h2>{`Creating Topology from Alerts`}</h2>\n    <p><em parentName=\"p\">{`I do not have an inventory system, but I want to build the topology of my environment.  How do you do it using ASM?`}</em>{` That is a common question that comes up in a few of my past customer engagement.  `}</p>\n    <p>{`This article will provide an approach to building a topology without an Inventory application.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`There are solutions such as the `}<a parentName=\"p\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSSHRK_4.2.0/overview/concept/ovr_product_overview_infocenter.html\"\n        }}>{`IBM Tivoli Network Manager`}</a>{` that can discover your IP Network topology by querying the network environment using SNMP.  `}</p>\n    </InlineNotification>\n    <p>{`This article assumes that you have some basic familiarity with building topology using ASM.\nIf you do not have this familiarity, you might want to read `}<a parentName=\"p\" {...{\n        \"href\": \"https://medium.com/ibm-garage/topology-modelling-using-agile-service-manager-a-tutorial-2e521040ea64\"\n      }}>{`a tutorial on topology modeling using ASM`}</a>{`\nand `}<a parentName=\"p\" {...{\n        \"href\": \"https://medium.com/ibm-garage/topology-modelling-using-agile-service-managers-rest-interface-7de14a85e333\"\n      }}>{`Building a topology using Agile Service Manager’s REST Interface`}</a>{`.   `}</p>\n    <p>{`To build a topology from scratch, you need to come up with some way to model it.  We can use our knowledge of the environment, for example.  Can we derive the topology information from specific knowledge on how the component of the ecosystem interacts?  Can we use a specific naming convention?  In this article, we will start with the output of `}<em parentName=\"p\">{`a remote ping`}</em>{`.  To make the topology reproducible by you, we are going to use an alerts simulator.`}</p>\n    <h2>{`The model`}</h2>\n    <p>{`A router typically has a feature called remote ping.  You can set up for the router to ping other network devices for availability. You can then either query the router or set up the router to send the results to an external monitoring server. Alerts normally have a field call `}<em parentName=\"p\">{`Node`}</em>{`.  It represents the object that sends the alerts.  It can be a hostname or IP address of a Server or Management Component of a Network Devices.`}</p>\n    <p>{`Let us use a fictional use case.  You just joined `}<strong parentName=\"p\">{`AFictionalCompany`}</strong>{` IT department and was asked your manager to create a topology of the company’s main routers and servers.\nAFictionalCompany has two main offices, one in Singapore and another one in Sydney.  The company also has branch offices in Europe and North America.  An Application Server and a database server are running at every office.`}</p>\n    <p>{`As a member of the IT department, you have access to the Alerts.\nYou noticed that the networking team has set up the `}<em parentName=\"p\">{`remote ping`}</em>{` from the company’s two main routers in Singapore and Sydney to all other routers in their branch offices.  The result of the remote ping is forwarded to your Alert Manager as alerts. You also noticed that each Application Servers and the Database Servers send Heartbeat Availability Alerts as well.  You also found out that the network team and the infrastructure team has labeled the router and the servers with location information.`}</p>\n    <p>{`To summarize, this is what available:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The remote ping results from 2 main routers in Sydney and Singapore.`}</li>\n      <li parentName=\"ul\">{`Heartbeat Availability alerts from the Application Servers and Database Servers.`}</li>\n      <li parentName=\"ul\">{`Location information in the alerts.`}</li>\n    </ul>\n    <h2>{`The simulated alerts`}</h2>\n    <p>{`OMNIbus, the Event Management component of NOI, has an alert generator called the Simnet probe.  An OMNIbus probe normally collects from a network, or network management equipment.  A simnet probe, simulate the alerts. It generates simulated alerts based on `}<em parentName=\"p\">{`a definition file`}</em>{`.  The alerts can then be parsed and transformed using `}<em parentName=\"p\">{`a probe rule file`}</em>{`.`}</p>\n    <p>{`We will setup the simnet probe to simulate random link failure and random server failure.\nThe random link failure simulates a failed remote ping, and the random server failure simulates the failed heartbeat.\nThe configuration of the probe, the probe rule file, and the Netcool/Impact policies all can be found from the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/jwahidin/topology_modeling/tree/master/Cloudpak8sAlert\"\n      }}>{`GitHub page for this article`}</a>{`.  Reading or Working with these configuration files requires certain knowledge in the Netcool Operation Insight.`}</p>\n    <p>{`To simulate the alerts, we have created all the nodes in the simnet probe definition file. Here is a sample of the Alerts using the out of the box Simnet rules file.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"42.01388888888889%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA70lEQVQoz32Rtw7DMAxE9f9f6MWDe+/dHhg8AgxkIMggiGK5O55cGIaSpqm0bStVVem977sMwyB5nsu6rjKOowRBIFmWaU8cx1qfpkmO49D+bdu01zVNI33fy33fcl2XPM/zijlGQH6eZwWt61rJDdRmHEVrPs9TkxyLycPuA5ZlKQgBEPUQ2rxLkkQZGYaJJMdi8qyCImKAoyhSm7AAUOo271gXNh6myORbjIKu6zS3LIv28wbcNvquDAuySRior9YU4hV+AsJWRVHop6GWms07/ECl79svD1mNN8MAMYcNePrykKQp/Lfyv0/xf/kDaURmI9XgpVkAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Simulated Alerts\",\n        \"title\": \"Simulated Alerts\",\n        \"src\": \"/static/160b5bda15348218db8e262bbc9b5d32/3cbba/simulated_alerts.png\",\n        \"srcSet\": [\"/static/160b5bda15348218db8e262bbc9b5d32/7fc1e/simulated_alerts.png 288w\", \"/static/160b5bda15348218db8e262bbc9b5d32/a5df1/simulated_alerts.png 576w\", \"/static/160b5bda15348218db8e262bbc9b5d32/3cbba/simulated_alerts.png 1152w\", \"/static/160b5bda15348218db8e262bbc9b5d32/36d41/simulated_alerts.png 1554w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Now comes the modeling part.  One way to approach the model building is to extract the alerts and then apply a series of business rules and then push the result to ASM.  Another approach is to `}<em parentName=\"p\">{`enrich`}</em>{` the alerts with information that can help our model building before we extract them.  We will be using the second approach.  We enrich the alerts using a probe rule file.\nThe rule file inserts into the alerts the two endpoints involved in the remote ping. `}</p>\n    <p>{`Using the Server Alerts location information, we create a logic connecting the Server to the router in the same location. For example, we can connect an Alert from an AppServer called `}<inlineCode parentName=\"p\">{`SingaporeAppSrv`}</inlineCode>{` or from a DataBase server named `}<inlineCode parentName=\"p\">{`SingaporeDb`}</inlineCode>{` to the router responsible for the `}<inlineCode parentName=\"p\">{`Singapore`}</inlineCode>{` Office.`}</p>\n    <p>{`Here are the Alerts after being enriched using the new rules file. We have added some tags (not shown), to make the processing of it easier.  Here is the list of alerts after being enriched.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"42.01388888888889%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABA0lEQVQoz3WRyQ6FMAhF+/9f6FLrEOfZOia8HBKMm7eoFIHDhbo8z6VpGlmWRcqylKqq5DgOadtW4jiWdV1lGAaJokiKotAc773+6/v+Pfhd14njAxAIP+d5lud5tIHBQwgau+9b40CpwdZ1/Z5xHMURAHpdlxYBAmiFXyA50zT9BVLrGMOUkEQXlABgHed5aiIF3BkvSRLJskxHx+LDoJmOTDIOMApQyO5QgLp933WKL5wdm7VDrSrEQRUJFHIHjkKUA8e3taRpqg9EHItSpqOxQyogIIAJcEcxMVRt26Y7tf+2JtshYCzNnb0OY6KOAntlCujK2Pj2ysBoTC0WHzHk/gCyml6X1rpeKQAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Enriched Simulated Alerts\",\n        \"title\": \"Enriched Simulated Alerts\",\n        \"src\": \"/static/10f5e994360e0315de496435c60ba20e/3cbba/simulated_alerts_enrich.png\",\n        \"srcSet\": [\"/static/10f5e994360e0315de496435c60ba20e/7fc1e/simulated_alerts_enrich.png 288w\", \"/static/10f5e994360e0315de496435c60ba20e/a5df1/simulated_alerts_enrich.png 576w\", \"/static/10f5e994360e0315de496435c60ba20e/3cbba/simulated_alerts_enrich.png 1152w\", \"/static/10f5e994360e0315de496435c60ba20e/7f043/simulated_alerts_enrich.png 1552w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`The alerts now have both the resources and the link connecting the resources.  Now we have some data that can be used to create the topology model.  We have a few options for building the topology using this information.  One way is to parse the alerts and call the ASM REST API to create the topology.  Another way is to build a framework that we can reuse.  We populate two tables, one for `}<inlineCode parentName=\"p\">{`resources`}</inlineCode>{` and another one for the `}<inlineCode parentName=\"p\">{`relationship.`}</inlineCode>{`  By creating the two tables, we can enrich the topology with other information before we build it.  It also provides us with a checkpoint to ensure the extraction logic produces the desired structure. Since we already have Omnibus as the Alerts database, we build the resource and relationship using Omnibus.`}</p>\n    <p>{`We will be using the following process flow:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"32.29166666666667%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABsklEQVQY0x2RTWsTURSGT2y1qCAK4iatxargYtDqtuSfhKxSCCF/ICQBK6KCy8ZtyG/IPgFXBXWaYgk0BjIDYcwkk7n3zv2ajxSvJz3w8nI5h/c+nAOe54VYqRBCo1KllJjNZi9XqxXEcbzVarVAa33f9/2/OHc9n88V9tY4txiNRk/G4zHgeyuKotxGQCn9l2WZkVKaIAhufLFYvHBdF8rl8rZlWXsnJ++fEUIlF8pwqQxl3EilM0LJg+WKAhcSmNBAuQbAkB9IMEK630hwgW5PJhOLMbZj2/bjSqVy1G6fvsPe94iLqzhOLtM0u1yvr89+/rLfhkzvUxY9x8ADyuMD6Ha7O51O53a9Xn9YLBb3ms3mruM4Z5xzB2nHSZJcoYZYT40xuV6v9wjnXp22v71mlPxRnPI0iUMtI5IoTmAwGECj0YBSqXSnUCjka7XaLtIwJDUYanA/N6tAzw+HF3B8XL57ePhm/8PHT5ZkS5lKYjLNjGa+UTw0MJ1Ood/v5/B3qFargL69XC4nuNsYAykeQ+IhfEJIHok3/Vufv3zd+D0aBueC+J4I5w4LPFdw6v4HDSxnpy6y7ecAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"topology creation flow\",\n        \"title\": \"topology creation flow\",\n        \"src\": \"/static/82b87c71076228e936f816e3af0832cb/3cbba/topology-creation-flow.png\",\n        \"srcSet\": [\"/static/82b87c71076228e936f816e3af0832cb/7fc1e/topology-creation-flow.png 288w\", \"/static/82b87c71076228e936f816e3af0832cb/a5df1/topology-creation-flow.png 576w\", \"/static/82b87c71076228e936f816e3af0832cb/3cbba/topology-creation-flow.png 1152w\", \"/static/82b87c71076228e936f816e3af0832cb/0b124/topology-creation-flow.png 1728w\", \"/static/82b87c71076228e936f816e3af0832cb/939a8/topology-creation-flow.png 2134w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h2>{`Building the tables`}</h2>\n    <p>{`Here is the logic to build the resource and relationship table`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`At Every Period, \n-    scan the new \"link \"simulated alerts inserted into the system since the last scan, and populate the resource and relationship tables if it does not already contain the resource and the relationship.\n-    Scan the new \"server\" simulated alerts inserted into the system since the last scan, and populate the resource and relationship tables if it does not already contain the resource and the relationship.\n`}</code></pre>\n    <p>{`The logic has been implemented using Netcool/Impact using `}<inlineCode parentName=\"p\">{`OmnibusEventReader`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// insertResAndEdgeFromEvent\n// To be called from the OMNIbus Event Reader and hence is expecting an \n// EventContainer to be populated already.\n// Expected to be call when ProcessReq = 101 or 102 and Class is Simnet 3300\n\nfunction createOrUpdateResource(Resource,ResType){\n  key = globalApp + Resource;\n  Res = GetByKey(dtRes, key, 1);\n   \n  if (length(Res) > 0){\n    // Maintaining the update time so state rows can be removed.\n    sql=\"Update custom.a_res set lastUpdate = getdate() where Key = '\" + key + \"'\";\n    Log(\"SQL: \" + sql );\n    DirectSQL('defaultobjectserver', sql, false);\n  } else {\n    nRes = NewObject();\n    nRes.Key = key;\n    nRes.App = globalApp;\n    nRes.UniqueId = Resource;\n    nRes.entityTypes = ResType;\n    nRes.insertTime = GetDate();\n    nRes.lastUpdate = GetDate();\n    nRes.ttl = globalTTL;\n    AddDataItem(dtRes,nRes);\n    Log(\"New Resource Entry: \" + key);\n  }\n} // function\n\nfunction createOrUpdateEdge(From,Rel,To){\n  key = globalApp + From + Rel + To;\n  Edge = GetByKey(dtEdge, key, 1);\n \n  if (length(Edge) > 0){\n    // Maintaining the update time so state rows can be removed.\n    sql=\"Update custom.a_edge set lastUpdate = getdate() where Key = '\" + key +\"'\";\n    Log(\"SQL: \" + sql );\n    DirectSQL('defaultobjectserver', sql, false);\n  } else {\n    nEdge = NewObject();\n    nEdge.Key = key;\n    nEdge.App = globalApp;\n    nEdge.FromRes = From;\n    nEdge.Relationship = Rel;\n    nEdge.ToRes = To;\n    nEdge.insertTime = GetDate();\n    nEdge.lastUpdate = GetDate();\n    nEdge.ttl = globalTTL;\n    AddDataItem(dtEdge,nEdge);\n    Log(\"New Edge Entry: \" + key);\n  }\n} // function\n\nLog(\"vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv Policy started vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\");\n\n// Called by OmnibusEventReader.\ndtRes = \"asm_Res\";\ndtEdge = \"asm_Edge\";\nglobalTTL = 3600;\nglobalApp = \"Event1\";\n\neNode1 = EventContainer.Node;\neNode2 = EventContainer.NodeAlias;\n\nif (EventContainer.ProcessReq = 101) {\n  createOrUpdateResource(eNode1,\"router\");\n  createOrUpdateResource(eNode2,\"router\"); \n  createOrUpdateEdge(eNode1,\"routesVia\",eNode2);\n} elseif (EventContainer.ProcessReq = 102) {\n  createOrUpdateResource(eNode1,\"server\");\n  createOrUpdateResource(eNode2,\"router\"); \n  createOrUpdateEdge(eNode1,\"connectedTo\",eNode2);\n} else {\n  // Unknown, do nothing.\n}\n\nLog(\"^^^^^^^^^^^^^^^^^^^^^ Policy Completed ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\");\n\n`}</code></pre>\n    <p>{`After processing, the content of the resource and relationship table is shown below:`}</p>\n    <p>{`Resource Table:\n`}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"37.15277777777778%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9ElEQVQoz1WQi66DIBBE/f/PbJr6AAHl5a3aucxatJIQ4LizO06j1IjXq4PWCiklWOswTROMGTEMA2KM8N4j5yQnWQhBttYGbduj6zr5xtqmbRUej648FnBZO5eGHnV9Ph+s64pxdEWUTrZtG57PvjTUN9Z4H+GcLxOP4pwXLMufFOz7fhYqZUvT6cY4nNrKeDbDYIpl/YU75jmAQ3iniPz9XtH3o7isjK6pvdgmrNHaim0KivGzIdevG0ZjzCTvyqghuzl0bi7hHlPYMIRY8sxnweXmcHixGsPFJMMYkzShiCClLDnyXhl/uQ6qjCdzp/6X/QNk4B9mdeu4XAAAAABJRU5ErkJggg==')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"resource table\",\n          \"title\": \"resource table\",\n          \"src\": \"/static/2b8d8933c72260a3ef5a7031110dfc72/3cbba/resource_table.png\",\n          \"srcSet\": [\"/static/2b8d8933c72260a3ef5a7031110dfc72/7fc1e/resource_table.png 288w\", \"/static/2b8d8933c72260a3ef5a7031110dfc72/a5df1/resource_table.png 576w\", \"/static/2b8d8933c72260a3ef5a7031110dfc72/3cbba/resource_table.png 1152w\", \"/static/2b8d8933c72260a3ef5a7031110dfc72/91a72/resource_table.png 1440w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <p>{`Relationship Table:\n`}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"43.05555555555555%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABV0lEQVQoz11RiXaCQAzk/7+wVamVKgV3OeTYC5ZpEsSqvDcsTGaGJCTeO3Rdh6IoMA4DnLWwxoD54D0qrZHnOXrSOOceNU819mmlYNlDMFRLfnWHqrPIVQt9M6h7J2ealbhcW1ybHhfVQLUj6sHR+4DDd0H6m+iKivy9XdFR4O5whvUT5gXwU0SYo7zv0zO+jrlwRCHQOcUF/ejw8XlCSR9hT6Cb+Ag+zNRhrqhVCywLYox0UMA0QalawM8L8WttoTUEXMsKbdOJVvg74kyBWrfUQVxBBAsmCmnIUNc3eY5PNU+BWjcYRysfYF5w1yS73QnDYB5FNoUQcDxe6EfpRxiDNcY47A+ZhD4Hbrokywrp5DVwkjAZ+Um8duhR0sg5req9ewmsqvali21k5hUtnsPfR2beOf/i25Ck6Q8FzP8Lpk45kEdm43L/WVvNWgf28I752mpb+B+/irnA8tZlSQAAAABJRU5ErkJggg==')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"relationship table\",\n          \"title\": \"relationship table\",\n          \"src\": \"/static/acdf252f442881fa658958a8b5615451/3cbba/relationship_table.png\",\n          \"srcSet\": [\"/static/acdf252f442881fa658958a8b5615451/7fc1e/relationship_table.png 288w\", \"/static/acdf252f442881fa658958a8b5615451/a5df1/relationship_table.png 576w\", \"/static/acdf252f442881fa658958a8b5615451/3cbba/relationship_table.png 1152w\", \"/static/acdf252f442881fa658958a8b5615451/f3ebc/relationship_table.png 1448w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <p>{`With the two tables created, we can use the same script as written in `}<a parentName=\"p\" {...{\n        \"href\": \"https://medium.com/ibm-garage/topology-modelling-using-agile-service-managers-rest-interface-7de14a85e333\"\n      }}>{`the Medium blog to build the topology`}</a>{`.  The logic is something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`At Every Period\n    Check if there is at least one updated row in the resource or relationship tables.\n    If there is, then call the script to create the topology from the resource and relationship table.\n`}</code></pre>\n    <p>{`This is the code implemented in Netcool/Impact:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// runBulkLoadOnNew\n// To be called periodically by policy activator.\n// lastUpdate is for removal - if required, not currently implemented.\n// \n\ndtRes = \"asm_Res\";\ndtEdge = \"asm_Edge\";\nglobalApp = \"Event1\";\n\n// The insertTime was done less than 60 seconds ago.\n\nfilter = \"((getdate()-insertTime) < 60)\";\n\nrecentRes = GetByFilter(dtRes,filter,false);\nnumRes = length(recentRes);\nrecentEdge = GetByFilter(dtEdge,filter,false);\nnumEdge = length(recentEdge);\nLog(\"Number of Changed Resource: \" + numRes +\", Number of Changed Edge: \" + numEdge);\n\nIf ((numRes>0)or(numEdge>0)){\n   Log(\"Executing Bulk Load at: \"  + GetDate());\n   asmRest.bulkLoad(dtRes,dtEdge,globalApp);\n}\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`asmRest`}</inlineCode>{` Function being called is as follow:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// asmRest\n// Expected to be called by another policy with the dataTypes and App being passed as parameters.\n\nfunction bulkLoad(dtRes,dtEdge,sApp) {\n\n  hasError=\"no\";\n  Handle java.lang.Exception { \n    Log(\"Exception: \" + ErrorMessage);\n    hasError=\"yes\";\n  } \n  \n  Log(\"vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv Policy started vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\");\n  app_name = sApp;\n  Log(2,\"Parameter received: \" + app_name);\n  paramExist = false;\n  if (app_name != NULL) {\n      if (length(app_name) > 0) {\n          paramExist = true;\n      }\n  }\n  if (!paramExist) {\n      Log(\"Parameter not specified.  Policy will exit!\");\n      Exit();\n  }\n  \n  // Initialize the values of all the parameters and then start the Bulk Job it has not been started.\n  asmFunctions.asm_initalize(asm_protocol,asm_host,asm_port,asm_path,HeadersToSend,HttpProperties);\n  asmFunctions.asm_startBulkJob(asm_protocol,asm_host,asm_port,asm_path,HeadersToSend,HttpProperties,asm_JobId,retError);\n  \n  if ((retError == 'yes') or (hasError == 'yes')){\n     Log(\"Connecting to ASM has failed\");\n     Exit();\n  }\n  \n  // By this point the connection is considered established.\n  app_filter = \"App='\"+ app_name + \"'\";\n  RssTbl = GetByFilter(dtRes,app_filter,false);\n  numRss = length(RssTbl);\n  log(2,\"Number of Resource found = \" + numRss); \n  \n  r = 0;\n  while (r < numRss){\n        asm_name=RssTbl[r].UniqueId;\n        asm_uniqueId=RssTbl[r].UniqueId;\n        asm_matchTokens=RssTbl[r].UniqueId;\n        asm_mergeTokens=RssTbl[r].UniqueId;\n        asm_entityTypes=RssTbl[r].EntityTypes;\n        asmFunctions.asm_createResource(asm_protocol,asm_host,asm_port,asm_path,HeadersToSend,HttpProperties,asm_name,asm_uniqueId,asm_matchTokens,asm_mergeTokens,asm_entityTypes,asm_JobId);\n        \n        Log(2,\"Creating \"+ asm_entityTypes + \", id: \" + asm_uniqueId);\n        r = r + 1;\n  } // End while\n  \n  // Get the Relationship table\n  EdgeTbl = GetByFilter(dtEdge,app_filter,false);\n  numEdge = length(EdgeTbl);\n  log(2,\"Number of Edge found = \" + numEdge); \n  \n  e = 0;\n  while (e < numEdge){\n      asm_fromUniqueId=EdgeTbl[e].FromRes;\n      asm_edgeType=EdgeTbl[e].Relationship;\n      asm_toUniqueId=EdgeTbl[e].ToRes;\n        \n      asmFunctions.asm_createEdge(asm_protocol,asm_host,asm_port,asm_path,HeadersToSend,HttpProperties,asm_fromUniqueId,asm_edgeType,asm_toUniqueId,asm_JobId);\n      Log(2,\"Connecting \"+ asm_fromUniqueId +\" : \" + asm_edgeType + \" : \" + asm_toUniqueId );\n      e = e + 1;\n  }// End while\n  \n  // Synchronize the Bulk Job\n  asmFunctions.asm_syncBulkJob(asm_protocol,asm_host,asm_port,asm_path,HeadersToSend,HttpProperties,asm_JobId);\n  \n  Log(\"^^^^^^^^^^^^^^^^^^^^^ Policy Completed ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\");\n}\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`asmFunctions`}</inlineCode>{` code can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/jwahidin/topology_modeling/tree/master/Cloudpak8sAlert\"\n      }}>{`accompanying github`}</a>{` and not listed here for brevity.`}</p>\n    <h2>{`The Topology`}</h2>\n    <p>{`By running the previous Netcool/Impact policy, the content of the resource and relationship tables are pushed to ASM via the ASM’s REST Interface.  You can then use `}<strong parentName=\"p\">{`the ASM’s Topology Viewer`}</strong>{` to view the topology.`}</p>\n    <p>{`This is the topology being build by the above logic.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"45.833333333333336%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxElEQVQoz1VSa2vbQBDU//8dpf3QFkOghkBpS8CEksROSGo7slPJtiwp0fth3enupOneyY7pImmP29nZ3VlZfd+DnuHtJHpRod5eQ8TP0KbjJ+tPQLJD7CKaj825CR7QqxY6Yg1IZZxgJfy7j4jcKd7C9THUogkfjTcYKqoolR8KhE9jsOIV3mz0XtTSrOHsM4LdHFGZQQqFOMng7DcGoFQH5/cnCCGgW1iul6hZbWLBn0uIOiaMwv72AzryVkuVMmcCb+siz7Ohi5ZBSQVR+sgWF6eB6U6gYQId+dK5Qs9zlA2H9+qgSXaQmrCKXLzZv/CfdYMEhyxA+HIDHtvoWDKM79+amP90CV4ECIIQaZpBZyiSzmhY+/dEIlHvZ0hXP479DNpqrzUqqbDkB2ynI7DUOWM0kZQkxTNYy2GJtsX2boSqzpDHG9RlgV5yiHzzvtlON31eNrzpF8hDYs7hw1c0eQAhe0NsnUD2ywpM9RDpXyT2d8SrK7BoSYnRUQXSzZ3QnY3cvQYngqhIUQQLJItv5y0Pm5TgjBZBrezuL1ClvhnHfxxTdd8AeVNhP/+JNFgjcW9QlDU23g5KMISryfB70ucf8xiuQ4Q7pd0AAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"topology from events\",\n        \"title\": \"topology from events\",\n        \"src\": \"/static/bf3770488ce2deb7be080060877d872a/3cbba/topology-from-events.png\",\n        \"srcSet\": [\"/static/bf3770488ce2deb7be080060877d872a/7fc1e/topology-from-events.png 288w\", \"/static/bf3770488ce2deb7be080060877d872a/a5df1/topology-from-events.png 576w\", \"/static/bf3770488ce2deb7be080060877d872a/3cbba/topology-from-events.png 1152w\", \"/static/bf3770488ce2deb7be080060877d872a/0b124/topology-from-events.png 1728w\", \"/static/bf3770488ce2deb7be080060877d872a/87d20/topology-from-events.png 2078w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h2>{`Summary`}</h2>\n    <p>{`We have built a topology using alerts, and some location information encoded in the alerts.  We used intermediary resource and relationship tables and periodically check for changes in the table.  If changes were detected, we pushed the tables’ content into ASM through ASM’s REST Interface. This simple exercise created using a simulator so the reader can recreate it.  It is simple, but hopefully, it gives you some ideas for your project.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"/mcm/cp4mcm_nom_day2\"\n      }}>{`Back to NOM Day2`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};"],"sourceRoot":""}