(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"013z":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("NmYn"),i=n.n(o),l=n("Wbzz"),s=n("Xrax"),c=n("k4MR"),p=n("TSYQ"),b=n.n(p),m=n("QH2O"),u=n.n(m),d=n("qKvR"),g=function(e){var t,n=e.title,a=e.theme,r=e.tabs,o=void 0===r?[]:r;return Object(d.b)("div",{className:b()(u.a.pageHeader,(t={},t[u.a.withTabs]=o.length,t[u.a.darkMode]="dark"===a,t))},Object(d.b)("div",{className:"bx--grid"},Object(d.b)("div",{className:"bx--row"},Object(d.b)("div",{className:"bx--col-lg-12"},Object(d.b)("h1",{id:"page-title",className:u.a.text},n)))))},h=n("BAC9"),f=function(e){var t=e.relativePagePath,n=e.repository,a=Object(l.useStaticQuery)("1364590287").site.siteMetadata.repository,r=n||a,o=r.baseUrl,i=r.subDirectory,s=o+"/edit/"+r.branch+i+"/src/pages"+t;return o?Object(d.b)("div",{className:"bx--row "+h.row},Object(d.b)("div",{className:"bx--col"},Object(d.b)("a",{className:h.link,href:s},"Edit this page on GitHub"))):null},O=n("FCXl"),j=n("dI71"),w=n("I8xM"),y=function(e){function t(){return e.apply(this,arguments)||this}return Object(j.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.tabs,a=e.slug,r=a.split("/").filter(Boolean).slice(-1)[0],o=n.map((function(e){var t,n=i()(e,{lower:!0,strict:!0}),o=n===r,s=new RegExp(r+"/?(#.*)?$"),c=a.replace(s,n);return Object(d.b)("li",{key:e,className:b()((t={},t[w.selectedItem]=o,t),w.listItem)},Object(d.b)(l.Link,{className:w.link,to:""+c},e))}));return Object(d.b)("div",{className:w.tabsContainer},Object(d.b)("div",{className:"bx--grid"},Object(d.b)("div",{className:"bx--row"},Object(d.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(d.b)("nav",{"aria-label":t},Object(d.b)("ul",{className:w.list},o))))))},t}(r.a.Component),x=n("MjG9"),N=n("CzIb");t.a=function(e){var t=e.pageContext,n=e.children,a=e.location,r=e.Title,o=t.frontmatter,p=void 0===o?{}:o,b=t.relativePagePath,m=t.titleType,u=p.tabs,h=p.title,j=p.theme,w=p.description,k=p.keywords,v=Object(N.a)().interiorTheme,A=Object(l.useStaticQuery)("2456312558").site.pathPrefix,S=A?a.pathname.replace(A,""):a.pathname,C=u?S.split("/").filter(Boolean).slice(-1)[0]||i()(u[0],{lower:!0}):"",I=j||v;return Object(d.b)(c.a,{tabs:u,homepage:!1,theme:I,pageTitle:h,pageDescription:w,pageKeywords:k,titleType:m},Object(d.b)(g,{title:r?Object(d.b)(r,null):h,label:"label",tabs:u,theme:I}),u&&Object(d.b)(y,{title:h,slug:S,tabs:u,currentTab:C}),Object(d.b)(x.a,{padded:!0},n,Object(d.b)(f,{relativePagePath:b})),Object(d.b)(O.a,{pageContext:t,location:a,slug:S,tabs:u,currentTab:C}),Object(d.b)(s.a,null))}},BAC9:function(e,t,n){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,n){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OTyw:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return l})),n.d(t,"default",(function(){return p}));var a=n("wx14"),r=n("zLVn"),o=(n("q1tI"),n("7ljp")),i=n("013z"),l=(n("qKvR"),{}),s={_frontmatter:l},c=i.a;function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)(c,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In this section we describe the installation of Watson AIOps AI Manager on IBM RedHat OpenShift Kubernetes Service (ROKS).\nThis document was written based on our experience with installation on Red Hat OpenShift 4.3 running on x86 architecture."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Important"),": OpenShift 4.3 and 4.5 are the only supported versions for Watson AIOps 2.0. OpenShift 4.4 is not supported."),Object(o.b)("h2",null,"Client Workstation Environment"),Object(o.b)("p",null,"It is recommended to use a Linux client environment to do the installation. There are some tools that will be necessary and/or useful during install and configuration. Use the following commands to install OpenShift client and Kubernetes client. Commands below are for CentOS 7 Linux client but should also work on RHEL 7 Linux and should be run as root."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# install OpenShift 4 client and kubectl\ncurl -s -L -O https://mirror.openshift.com/pub/openshift-v4/clients/oc/latest/linux/oc.tar.gz\ngunzip oc.tar.gz\ntar -xf oc.tar && rm -f oc.tar\nmv oc /usr/local/bin\n\ncat <<EOF > /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=1\ngpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg\nEOF\n\nyum install -y kubectl\n")),Object(o.b)("h2",null,"Storage"),Object(o.b)("p",null,"Review the ",Object(o.b)("a",{parentName:"p",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/plan/storage_considerations.html"},"Storage considerations")," for CP4D. The ",Object(o.b)("a",{parentName:"p",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-prereqs.html#aiops-prereqs__storage"},"storage requirements")," for AI Manager are a subset of the supported storage options for CP4D. Currently, the only ",Object(o.b)("em",{parentName:"p"},"supported")," storage option for AI Manager running in production is Portworx. The guide below uses IBM Cloud File Storage (ibmc-file-gold-gid storage class) so this would not be a supported production configuration."),Object(o.b)("p",null,"When using IBM Cloud File Storage, the S3FS configuration will not work and the training modules will read the log files directly from the Minio buckets, which reduces performance for training. The overall storage performance is slower with IBM Cloud File Storage."),Object(o.b)("h3",null,"NFS"),Object(o.b)("p",null,"NFS storage is another option for non-production systems. A prerequisite is to configure the NFS server with ",Object(o.b)("inlineCode",{parentName:"p"},"no_root_squash")," or the installation of CP4D will fail. Running an NFS server with ",Object(o.b)("inlineCode",{parentName:"p"},"no_root_squash")," is considered insecure and is not recommeded by Red Hat."),Object(o.b)("h2",null,"Cloud Pak for Data (CP4D) Installation"),Object(o.b)("p",null,"AI Manager runs on Cloud Pak for Data v3.0.1 lite. The instructions below are based off of ",Object(o.b)("a",{parentName:"p",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/install.html"},"the instructions for CP4D in the knowledge center"),". The CP4D install must be done using the installer. You cannot use the cloud provisioned CP4D on IBM Cloud."),Object(o.b)("p",null,Object(o.b)("a",{parentName:"p",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/node-settings.html"},"Changing required node settings")," should not be necessary for AI Ops installation. This is good because these changes require root access to the cluster nodes which is very difficult on OCP 4.x."),Object(o.b)("h3",null,Object(o.b)("a",{parentName:"h3",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/registry_server.html"},"Setting up your registry server")),Object(o.b)("p",null,"Use the RHOCP internal registry. ",Object(o.b)("a",{parentName:"p",href:"https://docs.openshift.com/container-platform/4.3/registry/securing-exposing-registry.html"},"Expose the registry")," by running the following:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},'oc patch configs.imageregistry.operator.openshift.io/cluster --patch \'{"spec":{"defaultRoute":true}}\' --type=merge\n')),Object(o.b)("h3",null,Object(o.b)("a",{parentName:"h3",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/installation-files.html"},"Obtaining the installation files")),Object(o.b)("p",null,"Obtain your entitlement license API key from the ",Object(o.b)("a",{parentName:"p",href:"https://myibm.ibm.com/products-services/containerlibrary"},"Container software library on My IBM")," and your IBM ID."),Object(o.b)("p",null,"On the Get entitlement key tab, select Copy key to copy the entitlement key to the clipboard and save the API key in a text file for use in repo.yaml later during the install process."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"393px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"83.33333333333334%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAACEklEQVQ4y61US47TQBD1KlIkLsABkFix5wJwCWZFUJCYJGSDxIIVSzgIcxaiZIbNMImT2HH8dzwz/rT/eVR3O8COAGnpqaqrq6ufX3VbWa1WWK/X4NZ1XWiaBsdxYNuO8BeLOWFBOZpYn89vcH39HbquU1xFWZY4DHcXQeEbTdOkArYoxP1dEMD3fci1rYjxYmEYUsyCbVkiZtGeuq5/FjTdEApjDEVRIE1TZK0fJwkSmvO1qqpQ5DnyvECWMbAsF7lJynDY+6vgLTF0bHH6gSG3fC7hwaWY4dxjYTEYXgbVZNDcDHpQwwkZ6qrE/neGCbGJ41icJk9OyBIO8yQWNo4TwYr7Ravbvq20bx3BkIt6AP+8qqqFLhxN07RofRGTazJXoiwrETfsAArv4FJVoapL6vQS+mYjknKh2/GoiJC29aAYhgEOrh3vrOdJ/aIoApfjGHDJ8jzDxiKGOOG4UTUo/X4f4/EYw9EIw+FQgvzBYHAURpTb673CxcUXmA51mQZOgbOzF9jdZ7Jgt9tFp9P5J/C9vMb5+Rv4d+npGPZ6LxHcMSiz6QTfrma4upzikjCd/h1msxm+TibY0HXbWD6Uii550Ug0/9llbetCefC6xqN3NR6+rfH4fQUzyGDvGLZ+BjeUP4A/IaUnWdJPQjeJ4ZMPezz71ODpxwbPPzckbIFdVMAjG5Llr6A48qXopocfnGhPPTdVFekAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Figure 1",title:"Figure 1",src:"/static/7122e39fcedf41fe7c915ad41de18bfd/97443/entitlement.png",srcSet:["/static/7122e39fcedf41fe7c915ad41de18bfd/7fc1e/entitlement.png 288w","/static/7122e39fcedf41fe7c915ad41de18bfd/97443/entitlement.png 393w"],sizes:"(max-width: 393px) 100vw, 393px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"On the Linux workstation, download and extract the Enterprise installer from ",Object(o.b)("a",{parentName:"p",href:"https://github.com/IBM/cpd-cli/releases"},"cpd-cli GitHub")," using the following command:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"curl -L -o cloudpak4data-ee-3.0.1.tgz https://github.com/IBM/cpd-cli/releases/download/cpd-3.0.1/cloudpak4data-ee-3.0.1.tgz\ntar -xvf cloudpak4data*.tgz\n")),Object(o.b)("p",null,"The OpenShift 4.x client install was already done above."),Object(o.b)("p",null,"Edit the extracted ",Object(o.b)("inlineCode",{parentName:"p"},"repo.yaml")," server definition file use the following values:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:"left"},"Parameter"),Object(o.b)("th",{parentName:"tr",align:"left"},"Value"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:"left"},"username"),Object(o.b)("td",{parentName:"tr",align:"left"},"Specify ",Object(o.b)("inlineCode",{parentName:"td"},"cp"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:"left"},"apikey"),Object(o.b)("td",{parentName:"tr",align:"left"},"Specify your entitlement license API key")))),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"repo.yaml")," file should look similar to the sample below, with the ",Object(o.b)("inlineCode",{parentName:"p"},"apikey")," value reflecting the entitlement license key obtained above:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"registry:\n  - url: cp.icr.io/cp/cpd\n    username: cp\n    apikey: BsiVF7vsOjkgyu1lFngf.eyJrc3MiOiJJQk0gTWFya2V0cGxhY2yiLCJpYXQiOjE1OTQzOTI3MEcsImp0aSI6ImFhNWEwMTExMzQyMDRkMDk4YmY4NDM0MzE0OTFiMTJhIn0.ulLvxhYELQRhR54OKvYeSSoqN9oTradJh5ksGaWPXFA\n    name: base-registry\nfileservers:\n  - url: https://raw.github.com/IBM/cloud-pak/master/repo/cpd3\n")),Object(o.b)("h3",null,Object(o.b)("a",{parentName:"h3",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/service_accts.html"},"Setting up your environment")),Object(o.b)("p",null,"Log in to your Red Hat OpenShift cluster:",Object(o.b)("br",{parentName:"p"}),"\n",Object(o.b)("inlineCode",{parentName:"p"},"oc login OpenShift_URL:port")),Object(o.b)("p",null,"Set namespace environment variable, sample uses ",Object(o.b)("inlineCode",{parentName:"p"},"zen")," namespace:",Object(o.b)("br",{parentName:"p"}),"\n",Object(o.b)("inlineCode",{parentName:"p"},"export NAMESPACE=zen")),Object(o.b)("p",null,"Do not run the preview command leaving off the ",Object(o.b)("inlineCode",{parentName:"p"},"--apply")," parameter. There is a bug in the installer that will cause problems if the setup command is run without ",Object(o.b)("inlineCode",{parentName:"p"},"--apply"),"."),Object(o.b)("p",null,"Make the necessary changes to the cluster by running the following command:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"./bin/cpd-linux adm --repo repo.yaml \\\n--assembly lite \\\n--accept-all-licenses \\\n--namespace $NAMESPACE \\\n--apply\n")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Important"),": Run the following command to grant cpd-admin-role to the project administration user(s):"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"oc adm policy add-role-to-user cpd-admin-role $(oc whoami) --role-namespace=$NAMESPACE -n $NAMESPACE\n")),Object(o.b)("h3",null,Object(o.b)("a",{parentName:"h3",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/rhos-install.html"},"Installing on an OpenShift cluster")),Object(o.b)("p",null,"Change to the project where you will install the Cloud Pak for Data control plane, samples uses ",Object(o.b)("inlineCode",{parentName:"p"},"zen")," namespace:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"oc project zen\n")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Important"),": The documentation includes a “dry run” to preview the install command, but if you run the preview before running the install, then the install will hang. This is a known bug, so skip the preview “dry run”."),Object(o.b)("p",null,"Note that IBM Cloud File Storage (ibmc-file-gold-gid storage class) is used."),Object(o.b)("p",null,"Run the following command to install the Cloud Pack for Data control plane:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"bin/cpd-linux --repo ./repo.yaml \\\n--assembly lite \\\n--namespace $NAMESPACE \\\n--storageclass ibmc-file-gold-gid \\\n--transfer-image-to $(oc get route/default-route -n openshift-image-registry --template='{{ .spec.host }}')/$NAMESPACE \\\n--cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/$NAMESPACE \\\n--target-registry-username $(oc whoami) \\\n--target-registry-password $(oc whoami -t) \\\n--accept-all-licenses \\\n--insecure-skip-tls-verify\n")),Object(o.b)("h3",null,"Updating the Nginx Certificate"),Object(o.b)("p",null,"The Nginx pods need the certificate updated or else there will be problems bringing up the UI and when configuring Slack integration. The following commands will take the valid certificate from OpenShift and apply it to the Nginx pods. Keep in mind that this certificate expires every 3 months, so this will need done again in the future."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"ingress_pod=$(oc get secrets -n openshift-ingress | grep tls | grep -v router-metrics-certs-default | awk '{print $1}')\noc get secret -n openshift-ingress -o 'go-template={{index .data \"tls.crt\"}}' ${ingress_pod} | base64 -d > cert.crt\noc get secret -n openshift-ingress -o 'go-template={{index .data \"tls.key\"}}' ${ingress_pod} | base64 -d > cert.key\nibm_nginx_pod=$(oc get pods -l component=ibm-nginx -o jsonpath='{ .items[0].metadata.name }')\noc exec ${ibm_nginx_pod} -- mkdir -p \"/user-home/_global_/customer-certs\"\noc cp cert.crt ${ibm_nginx_pod}:/user-home/_global_/customer-certs/\noc cp cert.key ${ibm_nginx_pod}:/user-home/_global_/customer-certs/\nfor i in `oc get pods -l component=ibm-nginx -o jsonpath='{ .items[*].metadata.name }' `; do oc exec ${i} -- /scripts/reload.sh; done\nrm cert.crt cert.key\n")),Object(o.b)("p",null,"Sample output from the above commands:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"reloading nginx conf\nSetting up ssl certificate files...\nCustom ssl certificate files were found. Processing them...\nlrwxrwxrwx. 1 1000321000 root 50 Feb  4 16:42 /nginx_data/defaults.d/external-server.conf -> /nginx_data/defaults.d/external-server.active.conf\nnginx: the configuration file /usr/local/openresty/nginx/conf/nginx.conf syntax is ok\nnginx: configuration file /usr/local/openresty/nginx/conf/nginx.conf test is successful\n2021/02/04 16:42:08 [notice] 202#202: signal process started\nreloading nginx conf\nSetting up ssl certificate files...\nCustom ssl certificate files were found. Processing them...\nlrwxrwxrwx. 1 1000321000 root 50 Feb  4 16:42 /nginx_data/defaults.d/external-server.conf -> /nginx_data/defaults.d/external-server.active.conf\nnginx: the configuration file /usr/local/openresty/nginx/conf/nginx.conf syntax is ok\nnginx: configuration file /usr/local/openresty/nginx/conf/nginx.conf test is successful\n2021/02/04 16:42:10 [notice] 142#142: signal process started\n")),Object(o.b)("h2",null,"AI Manager Installation"),Object(o.b)("h3",null,"Install Strimzi for Kafka"),Object(o.b)("p",null,"The ",Object(o.b)("a",{parentName:"p",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-prereqs.html"},"documentation")," describes how to install the Strimzi operator in order to get Kafka. The install can be done via the command line using the following command:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cat <<EOF | oc create -f -\napiVersion: operators.coreos.com/v1alpha1\nkind: Subscription\nmetadata:\n  name: strimzi-kafka-operator\n  namespace: openshift-operators\nspec:\n  channel: stable\n  name: strimzi-kafka-operator\n  source: community-operators\n  sourceNamespace: openshift-marketplace\nEOF\n")),Object(o.b)("h3",null,Object(o.b)("a",{parentName:"h3",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-svc-adm-cmd.html"},"Preparing the cluster for Watson AIOps AI Manager")),Object(o.b)("p",null,"Label the namespace using the ",Object(o.b)("inlineCode",{parentName:"p"},"NAMESPACE")," environment variable set above:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"oc label --overwrite namespace $NAMESPACE ns=$NAMESPACE\n")),Object(o.b)("p",null,"Do not run the preview command leaving off the ",Object(o.b)("inlineCode",{parentName:"p"},"--apply")," parameter. There is a bug in the installer that will cause problems if the setup command is run without ",Object(o.b)("inlineCode",{parentName:"p"},"--apply"),"."),Object(o.b)("p",null,"Make the necessary changes to the cluster by running the following command:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"bin/cpd-linux adm --repo repo.yaml --accept-all-licenses --assembly watson-aiops --namespace $NAMESPACE --apply\n")),Object(o.b)("h3",null,Object(o.b)("a",{parentName:"h3",href:"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-install.html"},"Installing the Watson AIOps AI Manager service")),Object(o.b)("p",null,"Create an ",Object(o.b)("inlineCode",{parentName:"p"},"override.yaml")," file and configure it to turn on the Strimzi resources creation and include updates to tune up the liveness/readiness probes for Postgres because we are using slower IBM Cloud storage as opposed to Portworx."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},'global:\n  kafka:\n    strimzi:\n      enabled: true\npostgres:\n  livenessProbe:\n    initialDelaySeconds: 300\n    timeoutSeconds: 15\n    failureThreshold: 5\n    periodSeconds: 15\n    successThreshold: 1\n  readinessProbe:\n    initialDelaySeconds: 300\n    timeoutSeconds: 15\n    failureThreshold: 5\n    periodSeconds: 15\n    successThreshold: 1\n  keeper:\n    resources:\n      requests:\n        cpu: "100m"\n        memory: "256Mi"\n      limits:\n        cpu: "500m"\n        memory: "512Mi"\n  sentinel:\n    resources:\n      requests:\n        cpu: "100m"\n        memory: "256Mi"\n      limits:\n        cpu: "500m"\n        memory: "512Mi"\n')),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Important"),": The documentation includes a “dry run” to preview the install command, but if you run the preview before running the install, then the install will hang. This is a known bug, so skip the preview “dry run”."),Object(o.b)("p",null,"Note that IBM Cloud File Storage (",Object(o.b)("inlineCode",{parentName:"p"},"ibmc-file-gold-gid")," storage class) is used. Also note that ",Object(o.b)("inlineCode",{parentName:"p"},"--max-image-retry")," has been increased from the default of 5 to 25. This is due to the fact that the image transfers often fail, which requires a retry of the command. Increasing this value will hopefully save you from having to retry this command after an image transfer failure."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"bin/cpd-linux --repo ./repo.yaml \\\n--assembly watson-aiops \\\n--namespace $NAMESPACE \\\n--instance waiops \\\n--storageclass ibmc-file-gold-gid \\\n--transfer-image-to $(oc get route/default-route -n openshift-image-registry --template='{{ .spec.host }}')/$NAMESPACE \\\n--cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/$NAMESPACE \\\n--target-registry-username $(oc whoami) \\\n--target-registry-password $(oc whoami -t) \\\n--accept-all-licenses \\\n--insecure-skip-tls-verify \\\n--max-image-retry 25 \\\n--override override.yaml\n")),Object(o.b)("p",null,"Congratulations, you have successfully installed Watson AIOps AI Manager."))}p.isMDXComponent=!0},QH2O:function(e,t,n){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}}}]);
//# sourceMappingURL=component---src-pages-aiops-aimgr-install-index-mdx-4eff4bbee883b3fdb251.js.map