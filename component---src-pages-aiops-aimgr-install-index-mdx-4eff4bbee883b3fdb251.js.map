{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./src/pages/aiops/aimgr/install/index.mdx","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-aiops-aimgr-install-index-mdx-4eff4bbee883b3fdb251.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`In this section we describe the installation of Watson AIOps AI Manager on IBM RedHat OpenShift Kubernetes Service (ROKS).\nThis document was written based on our experience with installation on Red Hat OpenShift 4.3 running on x86 architecture.`}</p>\n    <p><strong parentName=\"p\">{`Important`}</strong>{`: OpenShift 4.3 and 4.5 are the only supported versions for Watson AIOps 2.0. OpenShift 4.4 is not supported.`}</p>\n    <h2>{`Client Workstation Environment`}</h2>\n    <p>{`It is recommended to use a Linux client environment to do the installation. There are some tools that will be necessary and/or useful during install and configuration. Use the following commands to install OpenShift client and Kubernetes client. Commands below are for CentOS 7 Linux client but should also work on RHEL 7 Linux and should be run as root.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`# install OpenShift 4 client and kubectl\ncurl -s -L -O https://mirror.openshift.com/pub/openshift-v4/clients/oc/latest/linux/oc.tar.gz\ngunzip oc.tar.gz\ntar -xf oc.tar && rm -f oc.tar\nmv oc /usr/local/bin\n\ncat <<EOF > /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=1\ngpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg\nEOF\n\nyum install -y kubectl\n`}</code></pre>\n    <h2>{`Storage`}</h2>\n    <p>{`Review the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/plan/storage_considerations.html\"\n      }}>{`Storage considerations`}</a>{` for CP4D. The `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-prereqs.html#aiops-prereqs__storage\"\n      }}>{`storage requirements`}</a>{` for AI Manager are a subset of the supported storage options for CP4D. Currently, the only `}<em parentName=\"p\">{`supported`}</em>{` storage option for AI Manager running in production is Portworx. The guide below uses IBM Cloud File Storage (ibmc-file-gold-gid storage class) so this would not be a supported production configuration.`}</p>\n    <p>{`When using IBM Cloud File Storage, the S3FS configuration will not work and the training modules will read the log files directly from the Minio buckets, which reduces performance for training. The overall storage performance is slower with IBM Cloud File Storage.`}</p>\n    <h3>{`NFS`}</h3>\n    <p>{`NFS storage is another option for non-production systems. A prerequisite is to configure the NFS server with `}<inlineCode parentName=\"p\">{`no_root_squash`}</inlineCode>{` or the installation of CP4D will fail. Running an NFS server with `}<inlineCode parentName=\"p\">{`no_root_squash`}</inlineCode>{` is considered insecure and is not recommeded by Red Hat.`}</p>\n    <h2>{`Cloud Pak for Data (CP4D) Installation`}</h2>\n    <p>{`AI Manager runs on Cloud Pak for Data v3.0.1 lite. The instructions below are based off of `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/install.html\"\n      }}>{`the instructions for CP4D in the knowledge center`}</a>{`. The CP4D install must be done using the installer. You cannot use the cloud provisioned CP4D on IBM Cloud.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/node-settings.html\"\n      }}>{`Changing required node settings`}</a>{` should not be necessary for AI Ops installation. This is good because these changes require root access to the cluster nodes which is very difficult on OCP 4.x.`}</p>\n    <h3><a parentName=\"h3\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/registry_server.html\"\n      }}>{`Setting up your registry server`}</a></h3>\n    <p>{`Use the RHOCP internal registry. `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.openshift.com/container-platform/4.3/registry/securing-exposing-registry.html\"\n      }}>{`Expose the registry`}</a>{` by running the following:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc patch configs.imageregistry.operator.openshift.io/cluster --patch '{\"spec\":{\"defaultRoute\":true}}' --type=merge\n`}</code></pre>\n    <h3><a parentName=\"h3\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/installation-files.html\"\n      }}>{`Obtaining the installation files`}</a></h3>\n    <p>{`Obtain your entitlement license API key from the `}<a parentName=\"p\" {...{\n        \"href\": \"https://myibm.ibm.com/products-services/containerlibrary\"\n      }}>{`Container software library on My IBM`}</a>{` and your IBM ID.`}</p>\n    <p>{`On the Get entitlement key tab, select Copy key to copy the entitlement key to the clipboard and save the API key in a text file for use in repo.yaml later during the install process.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"393px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"83.33333333333334%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAACEklEQVQ4y61US47TQBD1KlIkLsABkFix5wJwCWZFUJCYJGSDxIIVSzgIcxaiZIbNMImT2HH8dzwz/rT/eVR3O8COAGnpqaqrq6ufX3VbWa1WWK/X4NZ1XWiaBsdxYNuO8BeLOWFBOZpYn89vcH39HbquU1xFWZY4DHcXQeEbTdOkArYoxP1dEMD3fci1rYjxYmEYUsyCbVkiZtGeuq5/FjTdEApjDEVRIE1TZK0fJwkSmvO1qqpQ5DnyvECWMbAsF7lJynDY+6vgLTF0bHH6gSG3fC7hwaWY4dxjYTEYXgbVZNDcDHpQwwkZ6qrE/neGCbGJ41icJk9OyBIO8yQWNo4TwYr7Ravbvq20bx3BkIt6AP+8qqqFLhxN07RofRGTazJXoiwrETfsAArv4FJVoapL6vQS+mYjknKh2/GoiJC29aAYhgEOrh3vrOdJ/aIoApfjGHDJ8jzDxiKGOOG4UTUo/X4f4/EYw9EIw+FQgvzBYHAURpTb673CxcUXmA51mQZOgbOzF9jdZ7Jgt9tFp9P5J/C9vMb5+Rv4d+npGPZ6LxHcMSiz6QTfrma4upzikjCd/h1msxm+TibY0HXbWD6Uii550Ug0/9llbetCefC6xqN3NR6+rfH4fQUzyGDvGLZ+BjeUP4A/IaUnWdJPQjeJ4ZMPezz71ODpxwbPPzckbIFdVMAjG5Llr6A48qXopocfnGhPPTdVFekAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Figure 1\",\n        \"title\": \"Figure 1\",\n        \"src\": \"/static/7122e39fcedf41fe7c915ad41de18bfd/97443/entitlement.png\",\n        \"srcSet\": [\"/static/7122e39fcedf41fe7c915ad41de18bfd/7fc1e/entitlement.png 288w\", \"/static/7122e39fcedf41fe7c915ad41de18bfd/97443/entitlement.png 393w\"],\n        \"sizes\": \"(max-width: 393px) 100vw, 393px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`On the Linux workstation, download and extract the Enterprise installer from `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/IBM/cpd-cli/releases\"\n      }}>{`cpd-cli GitHub`}</a>{` using the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -L -o cloudpak4data-ee-3.0.1.tgz https://github.com/IBM/cpd-cli/releases/download/cpd-3.0.1/cloudpak4data-ee-3.0.1.tgz\ntar -xvf cloudpak4data*.tgz\n`}</code></pre>\n    <p>{`The OpenShift 4.x client install was already done above.`}</p>\n    <p>{`Edit the extracted `}<inlineCode parentName=\"p\">{`repo.yaml`}</inlineCode>{` server definition file use the following values:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Parameter`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Value`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`username`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Specify `}<inlineCode parentName=\"td\">{`cp`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`apikey`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Specify your entitlement license API key`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`The `}<inlineCode parentName=\"p\">{`repo.yaml`}</inlineCode>{` file should look similar to the sample below, with the `}<inlineCode parentName=\"p\">{`apikey`}</inlineCode>{` value reflecting the entitlement license key obtained above:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`registry:\n  - url: cp.icr.io/cp/cpd\n    username: cp\n    apikey: BsiVF7vsOjkgyu1lFngf.eyJrc3MiOiJJQk0gTWFya2V0cGxhY2yiLCJpYXQiOjE1OTQzOTI3MEcsImp0aSI6ImFhNWEwMTExMzQyMDRkMDk4YmY4NDM0MzE0OTFiMTJhIn0.ulLvxhYELQRhR54OKvYeSSoqN9oTradJh5ksGaWPXFA\n    name: base-registry\nfileservers:\n  - url: https://raw.github.com/IBM/cloud-pak/master/repo/cpd3\n`}</code></pre>\n    <h3><a parentName=\"h3\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/service_accts.html\"\n      }}>{`Setting up your environment`}</a></h3>\n    <p>{`Log in to your Red Hat OpenShift cluster:`}<br parentName=\"p\"></br>{`\n`}<inlineCode parentName=\"p\">{`oc login OpenShift_URL:port`}</inlineCode></p>\n    <p>{`Set namespace environment variable, sample uses `}<inlineCode parentName=\"p\">{`zen`}</inlineCode>{` namespace:`}<br parentName=\"p\"></br>{`\n`}<inlineCode parentName=\"p\">{`export NAMESPACE=zen`}</inlineCode></p>\n    <p>{`Do not run the preview command leaving off the `}<inlineCode parentName=\"p\">{`--apply`}</inlineCode>{` parameter. There is a bug in the installer that will cause problems if the setup command is run without `}<inlineCode parentName=\"p\">{`--apply`}</inlineCode>{`.`}</p>\n    <p>{`Make the necessary changes to the cluster by running the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`./bin/cpd-linux adm --repo repo.yaml \\\\\n--assembly lite \\\\\n--accept-all-licenses \\\\\n--namespace $NAMESPACE \\\\\n--apply\n`}</code></pre>\n    <p><em parentName=\"p\">{`Important`}</em>{`: Run the following command to grant cpd-admin-role to the project administration user(s):`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc adm policy add-role-to-user cpd-admin-role $(oc whoami) --role-namespace=$NAMESPACE -n $NAMESPACE\n`}</code></pre>\n    <h3><a parentName=\"h3\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/cpd/install/rhos-install.html\"\n      }}>{`Installing on an OpenShift cluster`}</a></h3>\n    <p>{`Change to the project where you will install the Cloud Pak for Data control plane, samples uses `}<inlineCode parentName=\"p\">{`zen`}</inlineCode>{` namespace:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc project zen\n`}</code></pre>\n    <p><em parentName=\"p\">{`Important`}</em>{`: The documentation includes a “dry run” to preview the install command, but if you run the preview before running the install, then the install will hang. This is a known bug, so skip the preview “dry run”.`}</p>\n    <p>{`Note that IBM Cloud File Storage (ibmc-file-gold-gid storage class) is used.`}</p>\n    <p>{`Run the following command to install the Cloud Pack for Data control plane:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`bin/cpd-linux --repo ./repo.yaml \\\\\n--assembly lite \\\\\n--namespace $NAMESPACE \\\\\n--storageclass ibmc-file-gold-gid \\\\\n--transfer-image-to $(oc get route/default-route -n openshift-image-registry --template='{{ .spec.host }}')/$NAMESPACE \\\\\n--cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/$NAMESPACE \\\\\n--target-registry-username $(oc whoami) \\\\\n--target-registry-password $(oc whoami -t) \\\\\n--accept-all-licenses \\\\\n--insecure-skip-tls-verify\n`}</code></pre>\n    <h3>{`Updating the Nginx Certificate`}</h3>\n    <p>{`The Nginx pods need the certificate updated or else there will be problems bringing up the UI and when configuring Slack integration. The following commands will take the valid certificate from OpenShift and apply it to the Nginx pods. Keep in mind that this certificate expires every 3 months, so this will need done again in the future.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`ingress_pod=$(oc get secrets -n openshift-ingress | grep tls | grep -v router-metrics-certs-default | awk '{print $1}')\noc get secret -n openshift-ingress -o 'go-template={{index .data \"tls.crt\"}}' \\${ingress_pod} | base64 -d > cert.crt\noc get secret -n openshift-ingress -o 'go-template={{index .data \"tls.key\"}}' \\${ingress_pod} | base64 -d > cert.key\nibm_nginx_pod=$(oc get pods -l component=ibm-nginx -o jsonpath='{ .items[0].metadata.name }')\noc exec \\${ibm_nginx_pod} -- mkdir -p \"/user-home/_global_/customer-certs\"\noc cp cert.crt \\${ibm_nginx_pod}:/user-home/_global_/customer-certs/\noc cp cert.key \\${ibm_nginx_pod}:/user-home/_global_/customer-certs/\nfor i in \\`oc get pods -l component=ibm-nginx -o jsonpath='{ .items[*].metadata.name }' \\`; do oc exec \\${i} -- /scripts/reload.sh; done\nrm cert.crt cert.key\n`}</code></pre>\n    <p>{`Sample output from the above commands:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`reloading nginx conf\nSetting up ssl certificate files...\nCustom ssl certificate files were found. Processing them...\nlrwxrwxrwx. 1 1000321000 root 50 Feb  4 16:42 /nginx_data/defaults.d/external-server.conf -> /nginx_data/defaults.d/external-server.active.conf\nnginx: the configuration file /usr/local/openresty/nginx/conf/nginx.conf syntax is ok\nnginx: configuration file /usr/local/openresty/nginx/conf/nginx.conf test is successful\n2021/02/04 16:42:08 [notice] 202#202: signal process started\nreloading nginx conf\nSetting up ssl certificate files...\nCustom ssl certificate files were found. Processing them...\nlrwxrwxrwx. 1 1000321000 root 50 Feb  4 16:42 /nginx_data/defaults.d/external-server.conf -> /nginx_data/defaults.d/external-server.active.conf\nnginx: the configuration file /usr/local/openresty/nginx/conf/nginx.conf syntax is ok\nnginx: configuration file /usr/local/openresty/nginx/conf/nginx.conf test is successful\n2021/02/04 16:42:10 [notice] 142#142: signal process started\n`}</code></pre>\n    <h2>{`AI Manager Installation`}</h2>\n    <h3>{`Install Strimzi for Kafka`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-prereqs.html\"\n      }}>{`documentation`}</a>{` describes how to install the Strimzi operator in order to get Kafka. The install can be done via the command line using the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cat <<EOF | oc create -f -\napiVersion: operators.coreos.com/v1alpha1\nkind: Subscription\nmetadata:\n  name: strimzi-kafka-operator\n  namespace: openshift-operators\nspec:\n  channel: stable\n  name: strimzi-kafka-operator\n  source: community-operators\n  sourceNamespace: openshift-marketplace\nEOF\n`}</code></pre>\n    <h3><a parentName=\"h3\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-svc-adm-cmd.html\"\n      }}>{`Preparing the cluster for Watson AIOps AI Manager`}</a></h3>\n    <p>{`Label the namespace using the `}<inlineCode parentName=\"p\">{`NAMESPACE`}</inlineCode>{` environment variable set above:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc label --overwrite namespace $NAMESPACE ns=$NAMESPACE\n`}</code></pre>\n    <p>{`Do not run the preview command leaving off the `}<inlineCode parentName=\"p\">{`--apply`}</inlineCode>{` parameter. There is a bug in the installer that will cause problems if the setup command is run without `}<inlineCode parentName=\"p\">{`--apply`}</inlineCode>{`.`}</p>\n    <p>{`Make the necessary changes to the cluster by running the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`bin/cpd-linux adm --repo repo.yaml --accept-all-licenses --assembly watson-aiops --namespace $NAMESPACE --apply\n`}</code></pre>\n    <h3><a parentName=\"h3\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/en/SSQNUZ_3.0.1/svc-aiops/aiops-install.html\"\n      }}>{`Installing the Watson AIOps AI Manager service`}</a></h3>\n    <p>{`Create an `}<inlineCode parentName=\"p\">{`override.yaml`}</inlineCode>{` file and configure it to turn on the Strimzi resources creation and include updates to tune up the liveness/readiness probes for Postgres because we are using slower IBM Cloud storage as opposed to Portworx.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`global:\n  kafka:\n    strimzi:\n      enabled: true\npostgres:\n  livenessProbe:\n    initialDelaySeconds: 300\n    timeoutSeconds: 15\n    failureThreshold: 5\n    periodSeconds: 15\n    successThreshold: 1\n  readinessProbe:\n    initialDelaySeconds: 300\n    timeoutSeconds: 15\n    failureThreshold: 5\n    periodSeconds: 15\n    successThreshold: 1\n  keeper:\n    resources:\n      requests:\n        cpu: \"100m\"\n        memory: \"256Mi\"\n      limits:\n        cpu: \"500m\"\n        memory: \"512Mi\"\n  sentinel:\n    resources:\n      requests:\n        cpu: \"100m\"\n        memory: \"256Mi\"\n      limits:\n        cpu: \"500m\"\n        memory: \"512Mi\"\n`}</code></pre>\n    <p><em parentName=\"p\">{`Important`}</em>{`: The documentation includes a “dry run” to preview the install command, but if you run the preview before running the install, then the install will hang. This is a known bug, so skip the preview “dry run”.`}</p>\n    <p>{`Note that IBM Cloud File Storage (`}<inlineCode parentName=\"p\">{`ibmc-file-gold-gid`}</inlineCode>{` storage class) is used. Also note that `}<inlineCode parentName=\"p\">{`--max-image-retry`}</inlineCode>{` has been increased from the default of 5 to 25. This is due to the fact that the image transfers often fail, which requires a retry of the command. Increasing this value will hopefully save you from having to retry this command after an image transfer failure.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`bin/cpd-linux --repo ./repo.yaml \\\\\n--assembly watson-aiops \\\\\n--namespace $NAMESPACE \\\\\n--instance waiops \\\\\n--storageclass ibmc-file-gold-gid \\\\\n--transfer-image-to $(oc get route/default-route -n openshift-image-registry --template='{{ .spec.host }}')/$NAMESPACE \\\\\n--cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/$NAMESPACE \\\\\n--target-registry-username $(oc whoami) \\\\\n--target-registry-password $(oc whoami -t) \\\\\n--accept-all-licenses \\\\\n--insecure-skip-tls-verify \\\\\n--max-image-retry 25 \\\\\n--override override.yaml\n`}</code></pre>\n    <p>{`Congratulations, you have successfully installed Watson AIOps AI Manager.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};"],"sourceRoot":""}